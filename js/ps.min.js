!function(e,t){"use strict";var n=function(e){this.init=function(e,r){r=r||false;var i,s=t.getElementsByName(e.id);if(r){this.loadingQueue.iframe=true}e.setAttribute("data-ps-src",e.getAttribute("data-ps-src")||"");e.setAttribute("data-ps-autoload",e.getAttribute("data-ps-autoload")||false);e.setAttribute("data-ps-fixed",e.getAttribute("data-ps-fixed")||true);e.setAttribute("data-ps-animation",e.getAttribute("data-ps-animation")||"slide-down");e.setAttribute("data-ps-duration",e.getAttribute("data-ps-duration")||"1");e.setAttribute("data-ps-inactivate",e.getAttribute("data-ps-inactivate")||"true");e.setAttribute("data-ps-private-original-class",(e.getAttribute("data-ps-private-original-class")||e.className)+" ");if(!!s[0]){i=t.getElementsByName(e.id)[0]}else{i=t.createElement("iframe");i.name=e.id;i.style.display="none";i.className="ps-iframe";t.body.appendChild(i)}if(e.getAttribute("data-ps-autoload").match(/^true$/i)||r&&n.currentUrl===e.id){i.src=e.id===n.currentUrl?n.currentSrc||e.getAttribute("data-ps-src"):e.getAttribute("data-ps-src")}i.onload=function(){this.load(r)}.bind(this);this.wrapper=e;this.iframe=i};this.init(e,true)};n.prototype={loadingQueue:{iframe:false,animation:true},load:function(e){if(this.loadingQueue.iframe&&this.loadingQueue.animation){var r=t.createEvent("Event");r.initEvent("ps:load",true,true);this.wrapper.dispatchEvent(r);this.move();n.init(this.iframe,this.wrapper);if(!e){n.syncAnchor()}}},getAnimation:function(e){var t=e.getAttribute("data-ps-animation"),n=e.getAttribute("data-ps-duration");return{animation:t,duration:n,style:"<style>."+t+".active { -webkit-transition-duration: "+n+"s; -moz-transition-duration: "+n+"s; transition-duration: "+n+"s;}</style>"}},activate:function(){setTimeout(function(){this.wrapper.className+=" active";var e=t.createEvent("Event");e.initEvent("ps:render",true,true);this.wrapper.dispatchEvent(e)}.bind(this),60)},move:function(){var e,t="",n=this.getAnimation(this.wrapper),r;e=this.iframe.contentWindow.document;r=e.getElementsByTagName("style");Array.prototype.forEach.call(r,function(e){t+="<style>"+e.innerHTML+"</style>"});t+=n.style;t+=e.body.innerHTML;this.wrapper.className=this.wrapper.getAttribute("data-ps-private-original-class")+n.animation;this.wrapper.innerHTML=t;this.activate(this.wrapper)}};n.syncAnchor=function(){var e="ps-active",n=t.querySelectorAll("."+e),r=t.querySelectorAll('[href="#/'+this.currentUrl+(!!this.currentSrc?"/"+this.currentSrc:"")+'"]');Array.prototype.forEach.call(n,function(t){t.className=t.className.replace(e,"").trim()});Array.prototype.forEach.call(r,function(t){t.className+=" "+e})};n.init=function(t,r){var i=function(){t.addEventListener("load",function(){n.instances={};if(n.currentUrl=e.location.hash.match(/#\/([^\/]*)/)){n.currentUrl=n.currentUrl[1];n.currentSrc=(n.currentSrc=e.location.hash.match(/\/.*\/(.*)/))?n.currentSrc[1]:null}var t=document.createElement("div");n.transition=!(t.style.transition||t.style.webkitTransition||t.style.MozTransition||t.style.OTransitionDuration);s()})},s=function(){Array.prototype.forEach.call(r.getElementsByClassName("ps-wrapper"),function(e){if(!!n.instances[e.id]){n.instances[e.id].init(e)}else{n.instances[e.id]=new n(e)}})};if(t===e){i()}else{return s()}};n.init(e,t);e.addEventListener("hashchange",function(t){var r;if(r=e.location.hash.match(/#\/([^\/]*)/)){t.preventDefault();if(!!n.currentUrl){n.previousUrl=n.currentUrl}n.currentUrl=r[1];n.currentSrc=(n.currentSrc=e.location.hash.match(/\/.*\/(.*)/))?n.currentSrc[1]:null;var i,s,o,u,a,f;i=n.instances[n.currentUrl];if(!i){return false}s=i.wrapper;a=i.iframe;f=i.getAnimation(s);a.src=n.currentSrc||s.getAttribute("data-ps-src");if(!!n.previousUrl){o=n.instances[n.previousUrl];u=o.wrapper;if(u.getAttribute("data-ps-fixed").match(/^false$/i)){if(u.getAttribute("data-ps-inactivate").match(/^true$/i)){u.className+=" inactivate"}else{u.className+=" removed"}}}if(s.getAttribute("data-ps-inactivate").match(/^true$/i)){s.className+=" inactivate"}else{i.load()}i.loadingQueue.animation=false;setTimeout(function(){if(!!n.previousUrl&&u.getAttribute("data-ps-fixed").match(/^false$/i)){u.className+=" removed"}if(s.getAttribute("data-ps-inactivate").match(/^true$/i)){i.loadingQueue.animation=true;i.load()}}.bind(this),f.duration*1e3)}});e.PS=n}(window,document)
